
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>rdflib.extras.infixowl &#8212; rdflib 6.2.0-alpha documentation</title>

<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>


    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/rtd.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/searchtools.js"></script>
    <link rel="shortcut icon" href="../../../_static/RDFlib.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">rdflib 6.2.0-alpha documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">rdflib.extras.infixowl</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for rdflib.extras.infixowl</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;RDFLib Python binding for OWL Abstract Syntax</span>

<span class="s2">see: http://www.w3.org/TR/owl-semantics/syntax.html</span>
<span class="s2">     http://owl-workshop.man.ac.uk/acceptedLong/submission_9.pdf</span>

<span class="s2">3.2.3 Axioms for complete classes without using owl:equivalentClass</span>

<span class="s2">Named class description of type 2 (with owl:oneOf) or type 4-6</span>
<span class="s2">(with owl:intersectionOf, owl:unionOf or owl:complementOf</span>

<span class="s2">Uses Manchester Syntax for __repr__</span>

<span class="s2">&gt;&gt;&gt; exNs = Namespace(&#39;http://example.com/&#39;)</span>
<span class="s2">&gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="s2">&gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, exNs, override=False)</span>
<span class="s2">&gt;&gt;&gt; namespace_manager.bind(&#39;owl&#39;, OWL, override=False)</span>
<span class="s2">&gt;&gt;&gt; g = Graph()</span>
<span class="s2">&gt;&gt;&gt; g.namespace_manager = namespace_manager</span>

<span class="s2">Now we have an empty graph, we can construct OWL classes in it</span>
<span class="s2">using the Python classes defined in this module</span>

<span class="s2">&gt;&gt;&gt; a = Class(exNs.Opera, graph=g)</span>

<span class="s2">Now we can assert rdfs:subClassOf and owl:equivalentClass relationships</span>
<span class="s2">(in the underlying graph) with other classes using the &#39;subClassOf&#39;</span>
<span class="s2">and &#39;equivalentClass&#39; descriptors which can be set to a list</span>
<span class="s2">of objects for the corresponding predicates.</span>

<span class="s2">&gt;&gt;&gt; a.subClassOf = [exNs.MusicalWork]</span>

<span class="s2">We can then access the rdfs:subClassOf relationships</span>

<span class="s2">&gt;&gt;&gt; print(list(a.subClassOf))</span>
<span class="s2">[Class: ex:MusicalWork ]</span>

<span class="s2">This can also be used against already populated graphs:</span>

<span class="s2">&gt;&gt;&gt; owlGraph = Graph().parse(str(OWL))</span>
<span class="s2">&gt;&gt;&gt; namespace_manager.bind(&#39;owl&#39;, OWL, override=False)</span>
<span class="s2">&gt;&gt;&gt; owlGraph.namespace_manager = namespace_manager</span>
<span class="s2">&gt;&gt;&gt; list(Class(OWL.Class, graph=owlGraph).subClassOf)</span>
<span class="s2">[Class: rdfs:Class ]</span>

<span class="s2">Operators are also available. For instance we can add ex:Opera to the extension</span>
<span class="s2">of the ex:CreativeWork class via the &#39;+=&#39; operator</span>

<span class="s2">&gt;&gt;&gt; a</span>
<span class="s2">Class: ex:Opera SubClassOf: ex:MusicalWork</span>
<span class="s2">&gt;&gt;&gt; b = Class(exNs.CreativeWork, graph=g)</span>
<span class="s2">&gt;&gt;&gt; b += a</span>
<span class="s2">&gt;&gt;&gt; print(sorted(a.subClassOf, key=lambda c:c.identifier))</span>
<span class="s2">[Class: ex:CreativeWork , Class: ex:MusicalWork ]</span>

<span class="s2">And we can then remove it from the extension as well</span>

<span class="s2">&gt;&gt;&gt; b -= a</span>
<span class="s2">&gt;&gt;&gt; a</span>
<span class="s2">Class: ex:Opera SubClassOf: ex:MusicalWork</span>

<span class="s2">Boolean class constructions can also  be created with Python operators.</span>
<span class="s2">For example, The | operator can be used to construct a class consisting of a</span>
<span class="s2">owl:unionOf the operands:</span>

<span class="s2">&gt;&gt;&gt; c =  a | b | Class(exNs.Work, graph=g)</span>
<span class="s2">&gt;&gt;&gt; c</span>
<span class="s2">( ex:Opera OR ex:CreativeWork OR ex:Work )</span>

<span class="s2">Boolean class expressions can also be operated as lists (using python list</span>
<span class="s2">operators)</span>

<span class="s2">&gt;&gt;&gt; del c[c.index(Class(exNs.Work, graph=g))]</span>
<span class="s2">&gt;&gt;&gt; c</span>
<span class="s2">( ex:Opera OR ex:CreativeWork )</span>

<span class="s2">The &#39;&amp;&#39; operator can be used to construct class intersection:</span>

<span class="s2">&gt;&gt;&gt; woman = Class(exNs.Female, graph=g) &amp; Class(exNs.Human, graph=g)</span>
<span class="s2">&gt;&gt;&gt; woman.identifier = exNs.Woman</span>
<span class="s2">&gt;&gt;&gt; woman</span>
<span class="s2">( ex:Female AND ex:Human )</span>
<span class="s2">&gt;&gt;&gt; len(woman)</span>
<span class="s2">2</span>

<span class="s2">Enumerated classes can also be manipulated</span>

<span class="s2">&gt;&gt;&gt; contList = [Class(exNs.Africa, graph=g), Class(exNs.NorthAmerica, graph=g)]</span>
<span class="s2">&gt;&gt;&gt; EnumeratedClass(members=contList, graph=g)</span>
<span class="s2">{ ex:Africa ex:NorthAmerica }</span>

<span class="s2">owl:Restrictions can also be instantiated:</span>

<span class="s2">&gt;&gt;&gt; Restriction(exNs.hasParent, graph=g, allValuesFrom=exNs.Human)</span>
<span class="s2">( ex:hasParent ONLY ex:Human )</span>

<span class="s2">Restrictions can also be created using Manchester OWL syntax in &#39;colloquial&#39;</span>
<span class="s2">Python</span>
<span class="s2">&gt;&gt;&gt; exNs.hasParent &lt;&lt; some &gt;&gt; Class(exNs.Physician, graph=g)</span>
<span class="s2">( ex:hasParent SOME ex:Physician )</span>

<span class="s2">&gt;&gt;&gt; Property(exNs.hasParent,graph=g) &lt;&lt; max &gt;&gt; Literal(1)</span>
<span class="s2">( ex:hasParent MAX 1 )</span>

<span class="s2">&gt;&gt;&gt; print(g.serialize(format=&#39;pretty-xml&#39;)) #doctest: +SKIP</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">itertools</span>

<span class="kn">from</span> <span class="nn">rdflib</span> <span class="kn">import</span> <span class="n">BNode</span><span class="p">,</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">Namespace</span><span class="p">,</span> <span class="n">RDF</span><span class="p">,</span> <span class="n">RDFS</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">,</span> <span class="n">Variable</span>
<span class="kn">from</span> <span class="nn">rdflib.graph</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="kn">from</span> <span class="nn">rdflib.collection</span> <span class="kn">import</span> <span class="n">Collection</span>
<span class="kn">from</span> <span class="nn">rdflib.namespace</span> <span class="kn">import</span> <span class="n">OWL</span><span class="p">,</span> <span class="n">XSD</span>
<span class="kn">from</span> <span class="nn">rdflib.namespace</span> <span class="kn">import</span> <span class="n">NamespaceManager</span>
<span class="kn">from</span> <span class="nn">rdflib.term</span> <span class="kn">import</span> <span class="n">Identifier</span>
<span class="kn">from</span> <span class="nn">rdflib.util</span> <span class="kn">import</span> <span class="n">first</span>

<span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">From: http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/384122</span>

<span class="sd">Python has the wonderful &quot;in&quot; operator and it would be nice to have additional</span>
<span class="sd">infix operator like this. This recipe shows how (almost) arbitrary infix</span>
<span class="sd">operators can be defined.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;nsBinds&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ACE_NS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CLASS_RELATIONS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;some&quot;</span><span class="p">,</span>
    <span class="s2">&quot;only&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">,</span>
    <span class="s2">&quot;min&quot;</span><span class="p">,</span>
    <span class="s2">&quot;exactly&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PropertyAbstractSyntax&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AllClasses&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AllDifferent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AllProperties&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AnnotatableTerms&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BooleanClass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Callable&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CastClass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Class&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ClassNamespaceFactory&quot;</span><span class="p">,</span>
    <span class="s2">&quot;classOrIdentifier&quot;</span><span class="p">,</span>
    <span class="s2">&quot;classOrTerm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CommonNSBindings&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ComponentTerms&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DeepClassClear&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EnumeratedClass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;generateQName&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GetIdentifiedClasses&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Individual&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Infix&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MalformedClass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;manchesterSyntax&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Ontology&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OWLRDFListProxy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Property&quot;</span><span class="p">,</span>
    <span class="s2">&quot;propertyOrIdentifier&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Restriction&quot;</span><span class="p">,</span>
    <span class="s2">&quot;termDeletionDecorator&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># definition of an Infix operator class</span>
<span class="c1"># this recipe also works in jython</span>
<span class="c1"># calling sequence for the infix is either:</span>
<span class="c1">#  x |op| y</span>
<span class="c1"># or:</span>
<span class="c1"># x &lt;&lt;op&gt;&gt; y</span>


<div class="viewcode-block" id="Infix"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix">[docs]</a><span class="k">class</span> <span class="nc">Infix</span><span class="p">:</span>
<div class="viewcode-block" id="Infix.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span></div>

<div class="viewcode-block" id="Infix.__ror__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__ror__">[docs]</a>    <span class="k">def</span> <span class="fm">__ror__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Infix</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">=</span><span class="n">other</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span></div>

<div class="viewcode-block" id="Infix.__or__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__or__">[docs]</a>    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="Infix.__rlshift__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__rlshift__">[docs]</a>    <span class="k">def</span> <span class="fm">__rlshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Infix</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">=</span><span class="n">other</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span></div>

<div class="viewcode-block" id="Infix.__rshift__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__rshift__">[docs]</a>    <span class="k">def</span> <span class="fm">__rshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="Infix.__rmatmul__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__rmatmul__">[docs]</a>    <span class="k">def</span> <span class="fm">__rmatmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Infix</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">=</span><span class="n">other</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span></div>

<div class="viewcode-block" id="Infix.__matmul__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__matmul__">[docs]</a>    <span class="k">def</span> <span class="fm">__matmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="Infix.__call__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Infix.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">)</span></div></div>


<span class="n">nsBinds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;skos&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2004/02/skos/core#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rdf&quot;</span><span class="p">:</span> <span class="n">RDF</span><span class="p">,</span>
    <span class="s2">&quot;rdfs&quot;</span><span class="p">:</span> <span class="n">RDFS</span><span class="p">,</span>
    <span class="s2">&quot;owl&quot;</span><span class="p">:</span> <span class="n">OWL</span><span class="p">,</span>
    <span class="s2">&quot;list&quot;</span><span class="p">:</span> <span class="n">URIRef</span><span class="p">(</span><span class="s2">&quot;http://www.w3.org/2000/10/swap/list#&quot;</span><span class="p">),</span>
    <span class="s2">&quot;dc&quot;</span><span class="p">:</span> <span class="s2">&quot;http://purl.org/dc/elements/1.1/&quot;</span><span class="p">,</span>
<span class="p">}</span>


<div class="viewcode-block" id="generateQName"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.generateQName">[docs]</a><span class="k">def</span> <span class="nf">generateQName</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
    <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">localName</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">compute_qname</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">uri</span><span class="p">))</span>
    <span class="k">return</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">prefix</span><span class="p">,</span> <span class="n">localName</span><span class="p">])</span></div>


<div class="viewcode-block" id="classOrTerm"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.classOrTerm">[docs]</a><span class="k">def</span> <span class="nf">classOrTerm</span><span class="p">(</span><span class="n">thing</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">Class</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">thing</span><span class="o">.</span><span class="n">identifier</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="p">(</span><span class="n">URIRef</span><span class="p">,</span> <span class="n">BNode</span><span class="p">,</span> <span class="n">Literal</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">thing</span></div>


<div class="viewcode-block" id="classOrIdentifier"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.classOrIdentifier">[docs]</a><span class="k">def</span> <span class="nf">classOrIdentifier</span><span class="p">(</span><span class="n">thing</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="p">(</span><span class="n">Property</span><span class="p">,</span> <span class="n">Class</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">thing</span><span class="o">.</span><span class="n">identifier</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="p">(</span><span class="n">URIRef</span><span class="p">,</span> <span class="n">BNode</span><span class="p">)),</span> <span class="p">(</span>
            <span class="s2">&quot;Expecting a Class, Property, URIRef, or BNode.. not a </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">thing</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">thing</span></div>


<div class="viewcode-block" id="propertyOrIdentifier"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.propertyOrIdentifier">[docs]</a><span class="k">def</span> <span class="nf">propertyOrIdentifier</span><span class="p">(</span><span class="n">thing</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">Property</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">thing</span><span class="o">.</span><span class="n">identifier</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">thing</span></div>


<div class="viewcode-block" id="manchesterSyntax"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.manchesterSyntax">[docs]</a><span class="k">def</span> <span class="nf">manchesterSyntax</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">store</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transientList</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Core serialization</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">thing</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">boolean</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">transientList</span><span class="p">:</span>
            <span class="n">liveChildren</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">thing</span><span class="p">)</span>
            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">store</span><span class="p">)</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">thing</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">liveChildren</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">Collection</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="n">thing</span><span class="p">))</span>
            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">store</span><span class="p">)</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">Collection</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="n">thing</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="k">if</span> <span class="n">boolean</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">:</span>
            <span class="n">childList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">named</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">liveChildren</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">):</span>
                    <span class="n">named</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">childList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">named</span><span class="p">:</span>

                <span class="k">def</span> <span class="nf">castToQName</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
                    <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">localName</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">compute_qname</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                    <span class="k">return</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">prefix</span><span class="p">,</span> <span class="n">localName</span><span class="p">])</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">named</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;( &quot;</span> <span class="o">+</span> <span class="s2">&quot; AND &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">castToQName</span><span class="p">,</span> <span class="n">named</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; )&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">prefix</span> <span class="o">=</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">named</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">store</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">childList</span><span class="p">:</span>
                    <span class="k">return</span> <span class="p">(</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
                        <span class="o">+</span> <span class="s2">&quot; THAT &quot;</span>
                        <span class="o">+</span> <span class="s2">&quot; AND &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                            <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">store</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">childList</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">prefix</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;( &quot;</span> <span class="o">+</span> <span class="s2">&quot; AND &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; )&quot;</span>
        <span class="k">elif</span> <span class="n">boolean</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;( &quot;</span> <span class="o">+</span> <span class="s2">&quot; OR &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; )&quot;</span>
        <span class="k">elif</span> <span class="n">boolean</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">oneOf</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;{ &quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; }&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">boolean</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">complementOf</span>
    <span class="k">elif</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">thing</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
        <span class="n">prop</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">thing</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">localName</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">compute_qname</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span>
        <span class="n">propString</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">prefix</span><span class="p">,</span> <span class="n">localName</span><span class="p">])</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">prop</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
            <span class="n">propString</span> <span class="o">=</span> <span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">label</span>
        <span class="k">for</span> <span class="n">onlyClass</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">thing</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> ONLY </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">propString</span><span class="p">,</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">onlyClass</span><span class="p">,</span> <span class="n">store</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">thing</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> VALUE </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">propString</span><span class="p">,</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">store</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">someClass</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">thing</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> SOME </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">propString</span><span class="p">,</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">someClass</span><span class="p">,</span> <span class="n">store</span><span class="p">))</span>
        <span class="n">cardLookup</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">maxCardinality</span><span class="p">:</span> <span class="s2">&quot;MAX&quot;</span><span class="p">,</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">minCardinality</span><span class="p">:</span> <span class="s2">&quot;MIN&quot;</span><span class="p">,</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">cardinality</span><span class="p">:</span> <span class="s2">&quot;EQUALS&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">((</span><span class="n">thing</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">cardLookup</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="k">return</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">propString</span><span class="p">,</span> <span class="n">cardLookup</span><span class="p">[</span><span class="n">p</span><span class="p">],</span> <span class="n">o</span><span class="p">)</span>
    <span class="n">compl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">store</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">thing</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">complementOf</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">compl</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;( NOT </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">compl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">store</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">prolog</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;PREFIX </span><span class="si">%s</span><span class="s2">: &lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">nsBinds</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">nsBinds</span><span class="p">])</span>
        <span class="n">qstr</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">prolog</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">SELECT ?p ?bool WHERE {?class a owl:Class; ?p ?bool .&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;?bool rdf:first ?foo }&quot;</span>
        <span class="p">)</span>
        <span class="n">initb</span> <span class="o">=</span> <span class="p">{</span><span class="n">Variable</span><span class="p">(</span><span class="s2">&quot;?class&quot;</span><span class="p">):</span> <span class="n">thing</span><span class="p">}</span>
        <span class="k">for</span> <span class="n">boolProp</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">qstr</span><span class="p">,</span> <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">,</span> <span class="n">initBindings</span><span class="o">=</span><span class="n">initb</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">store</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="n">boolProp</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">localName</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">compute_qname</span><span class="p">(</span><span class="n">thing</span><span class="p">)</span>
            <span class="n">qname</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">prefix</span><span class="p">,</span> <span class="n">localName</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">thing</span><span class="o">.</span><span class="n">n3</span><span class="p">()</span>
            <span class="k">return</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">+</span> <span class="n">thing</span> <span class="o">+</span> <span class="s2">&quot;&gt;&quot;</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">Class</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">store</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">label</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">qname</span></div>


<div class="viewcode-block" id="GetIdentifiedClasses"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.GetIdentifiedClasses">[docs]</a><span class="k">def</span> <span class="nf">GetIdentifiedClasses</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">object</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">Class</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">c</span><span class="p">)</span></div>


<div class="viewcode-block" id="termDeletionDecorator"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.termDeletionDecorator">[docs]</a><span class="k">def</span> <span class="nf">termDeletionDecorator</span><span class="p">(</span><span class="n">prop</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">someFunc</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="n">func</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="n">prop</span>
        <span class="k">return</span> <span class="n">func</span>

    <span class="k">return</span> <span class="n">someFunc</span></div>


<span class="k">class</span> <span class="nc">TermDeletionHelper</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prop</span> <span class="o">=</span> <span class="n">prop</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_remover</span><span class="p">(</span><span class="n">inst</span><span class="p">):</span>
            <span class="n">inst</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="n">inst</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">_remover</span>


<div class="viewcode-block" id="Individual"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual">[docs]</a><span class="k">class</span> <span class="nc">Individual</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A typed individual</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">factoryGraph</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>

<div class="viewcode-block" id="Individual.serialize"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fact</span><span class="p">)</span></div>

<div class="viewcode-block" id="Individual.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span> <span class="o">=</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">identifier</span> <span class="ow">or</span> <span class="n">BNode</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="n">graph</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qname</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">localName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">compute_qname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qname</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">prefix</span><span class="p">,</span> <span class="n">localName</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span></div>

<div class="viewcode-block" id="Individual.clearInDegree"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual.clearInDegree">[docs]</a>    <span class="k">def</span> <span class="nf">clearInDegree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span></div>

<div class="viewcode-block" id="Individual.clearOutDegree"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual.clearOutDegree">[docs]</a>    <span class="k">def</span> <span class="nf">clearOutDegree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="Individual.delete"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clearInDegree</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clearOutDegree</span><span class="p">()</span></div>

<div class="viewcode-block" id="Individual.replace"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Individual.replace">[docs]</a>    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_get_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">_t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">_t</span>

    <span class="k">def</span> <span class="nf">_set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kind</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="p">(</span><span class="n">Individual</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">kind</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">kind</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="n">Individual</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_delete_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; g = Graph()</span>
<span class="sd">        &gt;&gt;&gt; b=Individual(OWL.Restriction,g)</span>
<span class="sd">        &gt;&gt;&gt; b.type = RDFS.Resource</span>
<span class="sd">        &gt;&gt;&gt; len(list(b.type))</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; del b.type</span>
<span class="sd">        &gt;&gt;&gt; len(list(b.type))</span>
<span class="sd">        0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nb">type</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_type</span><span class="p">,</span> <span class="n">_set_type</span><span class="p">,</span> <span class="n">_delete_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span>

    <span class="k">def</span> <span class="nf">_set_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">i</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span><span class="p">:</span>
            <span class="n">oldStmtsOut</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
            <span class="p">]</span>
            <span class="n">oldStmtsIn</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span><span class="p">))</span>
            <span class="p">]</span>
            <span class="k">for</span> <span class="n">p1</span><span class="p">,</span> <span class="n">o1</span> <span class="ow">in</span> <span class="n">oldStmtsOut</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">o1</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">s1</span><span class="p">,</span> <span class="n">p1</span> <span class="ow">in</span> <span class="n">oldStmtsIn</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="n">s1</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__identifier</span> <span class="o">=</span> <span class="n">i</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">addN</span><span class="p">([(</span><span class="n">i</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">o1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span> <span class="k">for</span> <span class="n">p1</span><span class="p">,</span> <span class="n">o1</span> <span class="ow">in</span> <span class="n">oldStmtsOut</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">addN</span><span class="p">([(</span><span class="n">s1</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span> <span class="k">for</span> <span class="n">s1</span><span class="p">,</span> <span class="n">p1</span> <span class="ow">in</span> <span class="n">oldStmtsIn</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">localName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">compute_qname</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qname</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">prefix</span><span class="p">,</span> <span class="n">localName</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

    <span class="n">identifier</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_identifier</span><span class="p">,</span> <span class="n">_set_identifier</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_sameAs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">_t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">sameAs</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">_t</span>

    <span class="k">def</span> <span class="nf">_set_sameAs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">term</span><span class="p">):</span>
        <span class="c1"># if not kind:</span>
        <span class="c1">#     return</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="p">(</span><span class="n">Individual</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">sameAs</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">term</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">term</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="n">Individual</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">sameAs</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">sameAs</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_delete_sameAs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">sameAs</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_sameAs</span><span class="p">,</span> <span class="n">_set_sameAs</span><span class="p">,</span> <span class="n">_delete_sameAs</span><span class="p">)</span></div>


<span class="n">ACE_NS</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="s2">&quot;http://attempto.ifi.uzh.ch/ace_lexicon#&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="AnnotatableTerms"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AnnotatableTerms">[docs]</a><span class="k">class</span> <span class="nc">AnnotatableTerms</span><span class="p">(</span><span class="n">Individual</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Terms in an OWL ontology with rdfs:label and rdfs:comment</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="AnnotatableTerms.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AnnotatableTerms.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nameAnnotation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nameIsLabel</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AnnotatableTerms</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nameAnnotation</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setupACEAnnotations</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">PN_sgProp</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handleAnnotation</span><span class="p">(</span><span class="n">nameAnnotation</span><span class="p">))</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">nameIsLabel</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="n">nameAnnotation</span><span class="p">]</span></div>

<div class="viewcode-block" id="AnnotatableTerms.handleAnnotation"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AnnotatableTerms.handleAnnotation">[docs]</a>    <span class="k">def</span> <span class="nf">handleAnnotation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">val</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">Literal</span><span class="p">)</span> <span class="k">else</span> <span class="n">Literal</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="AnnotatableTerms.setupACEAnnotations"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AnnotatableTerms.setupACEAnnotations">[docs]</a>    <span class="k">def</span> <span class="nf">setupACEAnnotations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;ace&quot;</span><span class="p">,</span> <span class="n">ACE_NS</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># PN_sg singular form of a proper name ()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">PN_sgProp</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
            <span class="n">ACE_NS</span><span class="o">.</span><span class="n">PN_sg</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span>

        <span class="c1"># CN_sg singular form of a common noun</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CN_sgProp</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
            <span class="n">ACE_NS</span><span class="o">.</span><span class="n">CN_sg</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span>

        <span class="c1"># CN_pl plural form of a common noun</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CN_plProp</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
            <span class="n">ACE_NS</span><span class="o">.</span><span class="n">CN_pl</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span>

        <span class="c1"># singular form of a transitive verb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TV_sgProp</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
            <span class="n">ACE_NS</span><span class="o">.</span><span class="n">TV_sg</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span>

        <span class="c1"># plural form of a transitive verb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TV_plProp</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
            <span class="n">ACE_NS</span><span class="o">.</span><span class="n">TV_pl</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span>

        <span class="c1"># past participle form a transitive verb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TV_vbgProp</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
            <span class="n">ACE_NS</span><span class="o">.</span><span class="n">TV_vbg</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">comment</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">comment</span>

    <span class="k">def</span> <span class="nf">_set_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">comment</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">comment</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">comment</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">comment</span><span class="p">,</span> <span class="n">comment</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">comment</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">comment</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">comment</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">comment</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_comment</span><span class="p">,</span> <span class="n">_set_comment</span><span class="p">,</span> <span class="n">_del_comment</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_seeAlso</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">sA</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">seeAlso</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">sA</span>

    <span class="k">def</span> <span class="nf">_set_seeAlso</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seeAlsos</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">seeAlsos</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">seeAlsos</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">seeAlso</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">seeAlso</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_seeAlso</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">seeAlso</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_seeAlso</span><span class="p">,</span> <span class="n">_set_seeAlso</span><span class="p">,</span> <span class="n">_del_seeAlso</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">label</span>

    <span class="k">def</span> <span class="nf">_set_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">label</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">label</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">l_</span> <span class="ow">in</span> <span class="n">label</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">l_</span><span class="p">))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_delete_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; g=Graph()</span>
<span class="sd">        &gt;&gt;&gt; b=Individual(OWL.Restriction,g)</span>
<span class="sd">        &gt;&gt;&gt; b.label = Literal(&#39;boo&#39;)</span>
<span class="sd">        &gt;&gt;&gt; len(list(b.label))</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; del b.label</span>
<span class="sd">        &gt;&gt;&gt; len(list(b.label))</span>
<span class="sd">        0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="n">label</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_label</span><span class="p">,</span> <span class="n">_set_label</span><span class="p">,</span> <span class="n">_delete_label</span><span class="p">)</span></div>


<div class="viewcode-block" id="Ontology"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Ontology">[docs]</a><span class="k">class</span> <span class="nc">Ontology</span><span class="p">(</span><span class="n">AnnotatableTerms</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The owl ontology metadata&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Ontology.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Ontology.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">imports</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Ontology</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imports</span> <span class="o">=</span> <span class="n">imports</span> <span class="ow">and</span> <span class="n">imports</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span> <span class="ow">and</span> <span class="n">comment</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Ontology</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Ontology</span><span class="p">))</span></div>

<div class="viewcode-block" id="Ontology.setVersion"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Ontology.setVersion">[docs]</a>    <span class="k">def</span> <span class="nf">setVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">versionInfo</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span></div>

    <span class="k">def</span> <span class="nf">_get_imports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">owl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="p">[</span><span class="s2">&quot;imports&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">owl</span>

    <span class="k">def</span> <span class="nf">_set_imports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="p">[</span><span class="s2">&quot;imports&quot;</span><span class="p">],</span> <span class="n">o</span><span class="p">))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="p">[</span><span class="s2">&quot;imports&quot;</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">_del_imports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">imports</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_imports</span><span class="p">,</span> <span class="n">_set_imports</span><span class="p">,</span> <span class="n">_del_imports</span><span class="p">)</span></div>


<div class="viewcode-block" id="AllClasses"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AllClasses">[docs]</a><span class="k">def</span> <span class="nf">AllClasses</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
    <span class="n">prevClasses</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">object</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">Class</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">prevClasses</span><span class="p">:</span>
            <span class="n">prevClasses</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">c</span><span class="p">)</span></div>


<div class="viewcode-block" id="AllProperties"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AllProperties">[docs]</a><span class="k">def</span> <span class="nf">AllProperties</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
    <span class="n">prevProps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
        <span class="p">(</span>
            <span class="kc">None</span><span class="p">,</span>
            <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="p">[</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">SymmetricProperty</span><span class="p">,</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">FunctionalProperty</span><span class="p">,</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">InverseFunctionalProperty</span><span class="p">,</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">TransitiveProperty</span><span class="p">,</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">DatatypeProperty</span><span class="p">,</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">ObjectProperty</span><span class="p">,</span>
                <span class="n">OWL</span><span class="o">.</span><span class="n">AnnotationProperty</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">o</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">SymmetricProperty</span><span class="p">,</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">InverseFunctionalProperty</span><span class="p">,</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">TransitiveProperty</span><span class="p">,</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">ObjectProperty</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="n">bType</span> <span class="o">=</span> <span class="n">OWL</span><span class="o">.</span><span class="n">ObjectProperty</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">bType</span> <span class="o">=</span> <span class="n">OWL</span><span class="o">.</span><span class="n">DatatypeProperty</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">prevProps</span><span class="p">:</span>
            <span class="n">prevProps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">Property</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="n">bType</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClassNamespaceFactory"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.ClassNamespaceFactory">[docs]</a><span class="k">class</span> <span class="nc">ClassNamespaceFactory</span><span class="p">(</span><span class="n">Namespace</span><span class="p">):</span>
<div class="viewcode-block" id="ClassNamespaceFactory.term"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.ClassNamespaceFactory.term">[docs]</a>    <span class="k">def</span> <span class="nf">term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">URIRef</span><span class="p">(</span><span class="bp">self</span> <span class="o">+</span> <span class="n">name</span><span class="p">))</span></div>

<div class="viewcode-block" id="ClassNamespaceFactory.__getitem__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.ClassNamespaceFactory.__getitem__">[docs]</a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">term</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassNamespaceFactory.__getattr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.ClassNamespaceFactory.__getattr__">[docs]</a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">):</span>  <span class="c1"># ignore any special Python names!</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">term</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div></div>


<span class="n">CLASS_RELATIONS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
    <span class="n">Namespace</span><span class="p">(</span><span class="s2">&quot;http://www.w3.org/2002/07/owl#resourceProperties&quot;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">imports</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">versionInfo</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">backwardCompatibleWith</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">incompatibleWith</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">oneOf</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">)</span>


<div class="viewcode-block" id="ComponentTerms"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.ComponentTerms">[docs]</a><span class="k">def</span> <span class="nf">ComponentTerms</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a Class instance and returns a generator over the classes that</span>
<span class="sd">    are involved in its definition, ignoring unnamed classes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">cls</span> <span class="o">=</span> <span class="n">CastClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">Individual</span><span class="o">.</span><span class="n">factoryGraph</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">innerClsId</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">innerCls</span> <span class="o">=</span> <span class="n">Class</span><span class="p">(</span><span class="n">innerClsId</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">innerClsId</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">_c</span> <span class="ow">in</span> <span class="n">ComponentTerms</span><span class="p">(</span><span class="n">innerCls</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">_c</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">innerCls</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">CastClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">Individual</span><span class="o">.</span><span class="n">factoryGraph</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BooleanClass</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">_cls</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">:</span>
                <span class="n">_cls</span> <span class="o">=</span> <span class="n">Class</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_cls</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">_c</span> <span class="ow">in</span> <span class="n">ComponentTerms</span><span class="p">(</span><span class="n">_cls</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">_c</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">_cls</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">innerCls</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">innerCls</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">_c</span> <span class="ow">in</span> <span class="n">ComponentTerms</span><span class="p">(</span><span class="n">innerCls</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">_c</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">innerCls</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
                <span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">),</span> <span class="n">CLASS_RELATIONS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">_c</span> <span class="ow">in</span> <span class="n">ComponentTerms</span><span class="p">(</span><span class="n">CastClass</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Individual</span><span class="o">.</span><span class="n">factoryGraph</span><span class="p">)):</span>
                        <span class="k">yield</span> <span class="n">_c</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">innerCls</span></div>


<div class="viewcode-block" id="DeepClassClear"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.DeepClassClear">[docs]</a><span class="k">def</span> <span class="nf">DeepClassClear</span><span class="p">(</span><span class="n">classToPrune</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recursively clear the given class, continuing</span>
<span class="sd">    where any related class is an anonymous class</span>

<span class="sd">    &gt;&gt;&gt; EX = Namespace(&#39;http://example.com/&#39;)</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, EX, override=False)</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager.bind(&#39;owl&#39;, OWL, override=False)</span>
<span class="sd">    &gt;&gt;&gt; g = Graph()</span>
<span class="sd">    &gt;&gt;&gt; g.namespace_manager = namespace_manager</span>
<span class="sd">    &gt;&gt;&gt; Individual.factoryGraph = g</span>
<span class="sd">    &gt;&gt;&gt; classB = Class(EX.B)</span>
<span class="sd">    &gt;&gt;&gt; classC = Class(EX.C)</span>
<span class="sd">    &gt;&gt;&gt; classD = Class(EX.D)</span>
<span class="sd">    &gt;&gt;&gt; classE = Class(EX.E)</span>
<span class="sd">    &gt;&gt;&gt; classF = Class(EX.F)</span>
<span class="sd">    &gt;&gt;&gt; anonClass = EX.someProp &lt;&lt; some &gt;&gt; classD</span>
<span class="sd">    &gt;&gt;&gt; classF += anonClass</span>
<span class="sd">    &gt;&gt;&gt; list(anonClass.subClassOf)</span>
<span class="sd">    [Class: ex:F ]</span>
<span class="sd">    &gt;&gt;&gt; classA = classE | classF | anonClass</span>
<span class="sd">    &gt;&gt;&gt; classB += classA</span>
<span class="sd">    &gt;&gt;&gt; classA.equivalentClass = [Class()]</span>
<span class="sd">    &gt;&gt;&gt; classB.subClassOf = [EX.someProp &lt;&lt; some &gt;&gt; classC]</span>
<span class="sd">    &gt;&gt;&gt; classA</span>
<span class="sd">    ( ex:E OR ex:F OR ( ex:someProp SOME ex:D ) )</span>
<span class="sd">    &gt;&gt;&gt; DeepClassClear(classA)</span>
<span class="sd">    &gt;&gt;&gt; classA</span>
<span class="sd">    (  )</span>
<span class="sd">    &gt;&gt;&gt; list(anonClass.subClassOf)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; classB</span>
<span class="sd">    Class: ex:B SubClassOf: ( ex:someProp SOME ex:C )</span>

<span class="sd">    &gt;&gt;&gt; otherClass = classD | anonClass</span>
<span class="sd">    &gt;&gt;&gt; otherClass</span>
<span class="sd">    ( ex:D OR ( ex:someProp SOME ex:D ) )</span>
<span class="sd">    &gt;&gt;&gt; DeepClassClear(otherClass)</span>
<span class="sd">    &gt;&gt;&gt; otherClass</span>
<span class="sd">    (  )</span>
<span class="sd">    &gt;&gt;&gt; otherClass.delete()</span>
<span class="sd">    &gt;&gt;&gt; list(g.triples((otherClass.identifier, None, None)))</span>
<span class="sd">    []</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">deepClearIfBNode</span><span class="p">(</span><span class="n">_class</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">_class</span><span class="p">),</span> <span class="n">BNode</span><span class="p">):</span>
            <span class="n">DeepClassClear</span><span class="p">(</span><span class="n">_class</span><span class="p">)</span>

    <span class="n">classToPrune</span> <span class="o">=</span> <span class="n">CastClass</span><span class="p">(</span><span class="n">classToPrune</span><span class="p">,</span> <span class="n">Individual</span><span class="o">.</span><span class="n">factoryGraph</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">classToPrune</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">:</span>
        <span class="n">deepClearIfBNode</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">classToPrune</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="n">classToPrune</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">classToPrune</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">:</span>
        <span class="n">deepClearIfBNode</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">classToPrune</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="n">classToPrune</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">inverseClass</span> <span class="o">=</span> <span class="n">classToPrune</span><span class="o">.</span><span class="n">complementOf</span>
    <span class="k">if</span> <span class="n">inverseClass</span><span class="p">:</span>
        <span class="n">classToPrune</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="n">classToPrune</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">complementOf</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="n">deepClearIfBNode</span><span class="p">(</span><span class="n">inverseClass</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">classToPrune</span><span class="p">,</span> <span class="n">BooleanClass</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">classToPrune</span><span class="p">:</span>
            <span class="n">deepClearIfBNode</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">classToPrune</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">classToPrune</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span>
            <span class="p">(</span><span class="n">classToPrune</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">classToPrune</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="MalformedClass"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.MalformedClass">[docs]</a><span class="k">class</span> <span class="nc">MalformedClass</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<div class="viewcode-block" id="MalformedClass.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.MalformedClass.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="MalformedClass.__repr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.MalformedClass.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">msg</span></div></div>


<div class="viewcode-block" id="CastClass"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.CastClass">[docs]</a><span class="k">def</span> <span class="nf">CastClass</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">graph</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">c</span><span class="o">.</span><span class="n">factoryGraph</span> <span class="ow">or</span> <span class="n">graph</span>
    <span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span><span class="p">:</span>
            <span class="n">kwArgs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;identifier&quot;</span><span class="p">:</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s2">&quot;graph&quot;</span><span class="p">:</span> <span class="n">graph</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">:</span>
                        <span class="n">kwArgs</span><span class="p">[</span><span class="s2">&quot;onProperty&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">o</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">p</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">Restriction</span><span class="o">.</span><span class="n">restrictionKinds</span><span class="p">:</span>
                            <span class="k">continue</span>
                        <span class="n">kwArgs</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">OWL</span><span class="p">))[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">o</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span>
                <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">OWL</span><span class="p">))[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Restriction</span><span class="o">.</span><span class="n">restrictionKinds</span><span class="p">]</span>
            <span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">kwArgs</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">MalformedClass</span><span class="p">(</span><span class="s2">&quot;Malformed owl:Restriction&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Restriction</span><span class="p">(</span><span class="o">**</span><span class="n">kwArgs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span>
                    <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">oneOf</span><span class="p">],</span>
                    <span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">oneOf</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">EnumeratedClass</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">BooleanClass</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">operator</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">)</span>
            <span class="c1"># assert (classOrIdentifier(c),RDF.type,OWL.Class) in graph</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>


<div class="viewcode-block" id="Class"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class">[docs]</a><span class="k">class</span> <span class="nc">Class</span><span class="p">(</span><span class="n">AnnotatableTerms</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &#39;General form&#39; for classes:</span>

<span class="sd">    The Manchester Syntax (supported in Protege) is used as the basis for the</span>
<span class="sd">    form of this class</span>

<span class="sd">    See: http://owl-workshop.man.ac.uk/acceptedLong/submission_9.pdf:</span>

<span class="sd">    [Annotation]</span>
<span class="sd">    Class: classID {Annotation</span>
<span class="sd">    ( (SubClassOf: ClassExpression)</span>
<span class="sd">    | (EquivalentTo ClassExpression)</span>
<span class="sd">    | (DisjointWith ClassExpression)) }</span>

<span class="sd">    Appropriate excerpts from OWL Reference:</span>

<span class="sd">    &quot;.. Subclass axioms provide us with partial definitions: they represent</span>
<span class="sd">     necessary but not sufficient conditions for establishing class</span>
<span class="sd">     membership of an individual.&quot;</span>

<span class="sd">    &quot;.. A class axiom may contain (multiple) owl:equivalentClass statements&quot;</span>

<span class="sd">    &quot;..A class axiom may also contain (multiple) owl:disjointWith statements..&quot;</span>

<span class="sd">    &quot;..An owl:complementOf property links a class to precisely one class</span>
<span class="sd">      description.&quot;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">:</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">:</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">disjointWith</span><span class="p">:</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">complementOf</span><span class="p">:</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">complementOf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>

<div class="viewcode-block" id="Class.serialize"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fact</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span></div>

<div class="viewcode-block" id="Class.setupNounAnnotations"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.setupNounAnnotations">[docs]</a>    <span class="k">def</span> <span class="nf">setupNounAnnotations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nounAnnotations</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nounAnnotations</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">CN_sgProp</span><span class="p">,</span> <span class="n">CN_plProp</span> <span class="o">=</span> <span class="n">nounAnnotations</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">CN_sgProp</span> <span class="o">=</span> <span class="n">nounAnnotations</span>
            <span class="n">CN_plProp</span> <span class="o">=</span> <span class="n">nounAnnotations</span>

        <span class="k">if</span> <span class="n">CN_sgProp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CN_sgProp</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handleAnnotation</span><span class="p">(</span><span class="n">CN_sgProp</span><span class="p">))</span>
            <span class="p">]</span>
        <span class="k">if</span> <span class="n">CN_plProp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CN_plProp</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handleAnnotation</span><span class="p">(</span><span class="n">CN_plProp</span><span class="p">))</span>
            <span class="p">]</span></div>

<div class="viewcode-block" id="Class.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">subClassOf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">equivalentClass</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">disjointWith</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">complementOf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">nounAnnotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">nameAnnotation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">nameIsLabel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Class</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">nameAnnotation</span><span class="p">,</span> <span class="n">nameIsLabel</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">nounAnnotations</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setupNounAnnotations</span><span class="p">(</span><span class="n">nounAnnotations</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">skipOWLClassMembership</span>
            <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Class</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
            <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Class</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subClassOf</span> <span class="o">=</span> <span class="n">subClassOf</span> <span class="ow">and</span> <span class="n">subClassOf</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">equivalentClass</span> <span class="o">=</span> <span class="n">equivalentClass</span> <span class="ow">and</span> <span class="n">equivalentClass</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disjointWith</span> <span class="o">=</span> <span class="n">disjointWith</span> <span class="ow">and</span> <span class="n">disjointWith</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">complementOf</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">complementOf</span> <span class="o">=</span> <span class="n">complementOf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span> <span class="ow">and</span> <span class="n">comment</span> <span class="ow">or</span> <span class="p">[]</span></div>

    <span class="k">def</span> <span class="nf">_get_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="p">(</span><span class="n">graph</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="ow">or</span> <span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span>
            <span class="n">predicate</span><span class="o">=</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">member</span>

    <span class="k">def</span> <span class="nf">_set_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">extent</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_extent</span><span class="p">,</span> <span class="n">_set_extent</span><span class="p">,</span> <span class="n">_del_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_annotation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">term</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">annotation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">term</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">annotation</span>

    <span class="n">annotation</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_annotation</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type,misc]</span>

    <span class="k">def</span> <span class="nf">_get_extentQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s2">&quot;CLASS&quot;</span><span class="p">),</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_extentQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">extentQuery</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_extentQuery</span><span class="p">,</span> <span class="n">_set_extentQuery</span><span class="p">)</span>

<div class="viewcode-block" id="Class.__hash__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__hash__">[docs]</a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; b=Class(OWL.Restriction)</span>
<span class="sd">        &gt;&gt;&gt; c=Class(OWL.Restriction)</span>
<span class="sd">        &gt;&gt;&gt; len(set([b,c]))</span>
<span class="sd">        1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span></div>

<div class="viewcode-block" id="Class.__eq__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__eq__">[docs]</a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Class</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">identifier</span></div>

<div class="viewcode-block" id="Class.__iadd__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__iadd__">[docs]</a>    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Class</span><span class="p">)</span>
        <span class="n">other</span><span class="o">.</span><span class="n">subClassOf</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="Class.__isub__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__isub__">[docs]</a>    <span class="k">def</span> <span class="fm">__isub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Class</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="Class.__invert__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__invert__">[docs]</a>    <span class="k">def</span> <span class="fm">__invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shorthand for Manchester syntax&#39;s not operator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">complementOf</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Class.__or__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__or__">[docs]</a>    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct an anonymous class description consisting of the union of</span>
<span class="sd">        this class and &#39;other&#39; and return it</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BooleanClass</span><span class="p">(</span>
            <span class="n">operator</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">,</span> <span class="n">members</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Class.__and__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__and__">[docs]</a>    <span class="k">def</span> <span class="fm">__and__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct an anonymous class description consisting of the</span>
<span class="sd">        intersection of this class and &#39;other&#39; and return it</span>

<span class="sd">        &gt;&gt;&gt; exNs = Namespace(&#39;http://example.com/&#39;)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, exNs, override=False)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;owl&#39;, OWL, override=False)</span>
<span class="sd">        &gt;&gt;&gt; g = Graph()</span>
<span class="sd">        &gt;&gt;&gt; g.namespace_manager = namespace_manager</span>

<span class="sd">        Chaining 3 intersections</span>

<span class="sd">        &gt;&gt;&gt; female = Class(exNs.Female, graph=g)</span>
<span class="sd">        &gt;&gt;&gt; human = Class(exNs.Human, graph=g)</span>
<span class="sd">        &gt;&gt;&gt; youngPerson = Class(exNs.YoungPerson, graph=g)</span>
<span class="sd">        &gt;&gt;&gt; youngWoman = female &amp; human &amp; youngPerson</span>
<span class="sd">        &gt;&gt;&gt; youngWoman #doctest: +SKIP</span>
<span class="sd">        ex:YoungPerson THAT ( ex:Female AND ex:Human )</span>
<span class="sd">        &gt;&gt;&gt; isinstance(youngWoman, BooleanClass)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; isinstance(youngWoman.identifier, BNode)</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BooleanClass</span><span class="p">(</span>
            <span class="n">operator</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">members</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_subClassOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">anc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">subClassOf</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">anc</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_subClassOf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">sc</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_subClassOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">subClassOf</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_subClassOf</span><span class="p">,</span> <span class="n">_set_subClassOf</span><span class="p">,</span> <span class="n">_del_subClassOf</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_equivalentClass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">equivalentClass</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">ec</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_equivalentClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">sc</span><span class="p">))</span>
            <span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_equivalentClass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">equivalentClass</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_equivalentClass</span><span class="p">,</span> <span class="n">_set_equivalentClass</span><span class="p">,</span> <span class="n">_del_equivalentClass</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_disjointWith</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">dc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">disjointWith</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">dc</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_disjointWith</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">disjointWith</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">c</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">disjointWith</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_disjointWith</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">disjointWith</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_disjointWith</span><span class="p">,</span> <span class="n">_set_disjointWith</span><span class="p">,</span> <span class="n">_del_disjointWith</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_complementOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">comp</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">complementOf</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">comp</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">comp</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">comp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">comp</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_set_complementOf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">complementOf</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">complementOf</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_complementOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">complementOf</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_complementOf</span><span class="p">,</span> <span class="n">_set_complementOf</span><span class="p">,</span> <span class="n">_del_complementOf</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_parents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        computed attributes that returns a generator over taxonomic &#39;parents&#39;</span>
<span class="sd">        by disjunction, conjunction, and subsumption</span>

<span class="sd">        &gt;&gt;&gt; from rdflib.util import first</span>
<span class="sd">        &gt;&gt;&gt; exNs = Namespace(&#39;http://example.com/&#39;)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, exNs, override=False)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;owl&#39;, OWL, override=False)</span>
<span class="sd">        &gt;&gt;&gt; g = Graph()</span>
<span class="sd">        &gt;&gt;&gt; g.namespace_manager = namespace_manager</span>
<span class="sd">        &gt;&gt;&gt; Individual.factoryGraph = g</span>
<span class="sd">        &gt;&gt;&gt; brother = Class(exNs.Brother)</span>
<span class="sd">        &gt;&gt;&gt; sister = Class(exNs.Sister)</span>
<span class="sd">        &gt;&gt;&gt; sibling = brother | sister</span>
<span class="sd">        &gt;&gt;&gt; sibling.identifier = exNs.Sibling</span>
<span class="sd">        &gt;&gt;&gt; sibling</span>
<span class="sd">        ( ex:Brother OR ex:Sister )</span>
<span class="sd">        &gt;&gt;&gt; first(brother.parents)</span>
<span class="sd">        Class: ex:Sibling EquivalentTo: ( ex:Brother OR ex:Sister )</span>
<span class="sd">        &gt;&gt;&gt; parent = Class(exNs.Parent)</span>
<span class="sd">        &gt;&gt;&gt; male = Class(exNs.Male)</span>
<span class="sd">        &gt;&gt;&gt; father = parent &amp; male</span>
<span class="sd">        &gt;&gt;&gt; father.identifier = exNs.Father</span>
<span class="sd">        &gt;&gt;&gt; list(father.parents)</span>
<span class="sd">        [Class: ex:Parent , Class: ex:Male ]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">parent</span>

        <span class="n">link</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span><span class="n">RDF</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">link</span><span class="p">:</span>
            <span class="n">listSiblings</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">transitive_subjects</span><span class="p">(</span><span class="n">RDF</span><span class="o">.</span><span class="n">rest</span><span class="p">,</span> <span class="n">link</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">listSiblings</span><span class="p">:</span>
                <span class="n">collectionHead</span> <span class="o">=</span> <span class="n">listSiblings</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">collectionHead</span> <span class="o">=</span> <span class="n">link</span>
            <span class="k">for</span> <span class="n">disjCls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">,</span> <span class="n">collectionHead</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">disjCls</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">):</span>
                    <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">disjCls</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">rdfList</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">OWLRDFListProxy</span><span class="p">([</span><span class="n">rdfList</span><span class="p">],</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">factoryGraph</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">URIRef</span><span class="p">):</span>
                    <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">parents</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_parents</span><span class="p">)</span>

<div class="viewcode-block" id="Class.isPrimitive"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.isPrimitive">[docs]</a>    <span class="k">def</span> <span class="nf">isPrimitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="c1"># sc = list(self.subClassOf)</span>
        <span class="n">ec</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">boolClass</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">rdfList</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">ec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">rdfList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="n">p</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">ec</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">complementOf</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Class.subSumpteeIds"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.subSumpteeIds">[docs]</a>    <span class="k">def</span> <span class="nf">subSumpteeIds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">,</span> <span class="nb">object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">s</span></div>

    <span class="c1"># def __iter__(self):</span>
    <span class="c1">#     for s in self.graph.subjects(</span>
    <span class="c1">#        predicate=RDFS.subClassOf,object=self.identifier):</span>
    <span class="c1">#         yield Class(s,skipOWLClassMembership=True)</span>

<div class="viewcode-block" id="Class.__repr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Class.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">normalization</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Manchester Syntax equivalent for this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exprs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">sc</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subClassOf</span><span class="p">)</span>
        <span class="n">ec</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equivalentClass</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">boolClass</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">rdfList</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">ec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">rdfList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="n">p</span><span class="p">))</span>
        <span class="n">dc</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disjointWith</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">complementOf</span>
        <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
            <span class="n">dc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">klassKind</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">label</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">label</span><span class="p">))</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">label</span> <span class="ow">and</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="n">label</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sc</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">full</span><span class="p">:</span>
                <span class="n">scJoin</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">                &quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">scJoin</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span>
            <span class="n">necStatements</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">Class</span><span class="p">)</span>
                <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">BNode</span><span class="p">)</span>
                <span class="ow">and</span> <span class="nb">repr</span><span class="p">(</span><span class="n">CastClass</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">))</span>
                <span class="ow">or</span>
                <span class="c1"># repr(BooleanClass(classOrIdentifier(s),</span>
                <span class="c1">#                  operator=None,</span>
                <span class="c1">#                  graph=self.graph)) or</span>
                <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sc</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">necStatements</span><span class="p">:</span>
                <span class="n">klassKind</span> <span class="o">=</span> <span class="s2">&quot;Primitive Type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">label</span>
            <span class="n">exprs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;SubClassOf: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">scJoin</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">necStatements</span><span class="p">])</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">full</span><span class="p">:</span>
                <span class="n">exprs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &quot;</span> <span class="o">+</span> <span class="n">exprs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ec</span><span class="p">:</span>
            <span class="n">nec_SuffStatements</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">s</span>
                <span class="ow">or</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ec</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">nec_SuffStatements</span><span class="p">:</span>
                <span class="n">klassKind</span> <span class="o">=</span> <span class="s2">&quot;A Defined Class </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">label</span>
            <span class="n">exprs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;EquivalentTo: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nec_SuffStatements</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">full</span><span class="p">:</span>
                <span class="n">exprs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &quot;</span> <span class="o">+</span> <span class="n">exprs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">dc</span><span class="p">:</span>
            <span class="n">exprs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;DisjointWith </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="o">%</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">                 &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="p">[</span><span class="n">manchesterSyntax</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dc</span><span class="p">]</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">full</span><span class="p">:</span>
                <span class="n">exprs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &quot;</span> <span class="o">+</span> <span class="n">exprs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">descr</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">comment</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">full</span> <span class="ow">and</span> <span class="n">normalization</span><span class="p">:</span>
            <span class="n">klassDescr</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">klassKind</span>
                <span class="ow">and</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    ## </span><span class="si">%s</span><span class="s2"> ##&quot;</span> <span class="o">%</span> <span class="n">klassKind</span>
                <span class="o">+</span> <span class="p">(</span><span class="n">descr</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">descr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="o">+</span> <span class="s2">&quot; . &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">exprs</span><span class="p">)</span>
                <span class="ow">or</span> <span class="s2">&quot; . &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">exprs</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">klassDescr</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">full</span>
                <span class="ow">and</span> <span class="p">(</span><span class="n">descr</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">descr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="s2">&quot; . &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">exprs</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">BNode</span><span class="p">)</span>
            <span class="ow">and</span> <span class="s2">&quot;Some Class &quot;</span>
            <span class="ow">or</span> <span class="s2">&quot;Class: </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">qname</span>
        <span class="p">)</span> <span class="o">+</span> <span class="n">klassDescr</span></div></div>


<div class="viewcode-block" id="OWLRDFListProxy"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy">[docs]</a><span class="k">class</span> <span class="nc">OWLRDFListProxy</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<div class="viewcode-block" id="OWLRDFListProxy.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rdfList</span><span class="p">,</span> <span class="n">members</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">graph</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="n">graph</span>
        <span class="n">members</span> <span class="o">=</span> <span class="n">members</span> <span class="ow">and</span> <span class="n">members</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">rdfList</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">rdfList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">member</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">member</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">BNode</span><span class="p">(),</span> <span class="p">[</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">members</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">uri</span><span class="p">))</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__eq__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__eq__">[docs]</a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Equivalence of boolean class constructors is determined by</span>
<span class="sd">        equivalence of its members</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Class</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">BooleanClass</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">!=</span> <span class="n">other</span><span class="p">[</span><span class="n">idx</span><span class="p">]:</span>
                        <span class="k">return</span> <span class="kc">False</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">identifier</span></div>

    <span class="c1"># Redirect python list accessors to the underlying Collection instance</span>
<div class="viewcode-block" id="OWLRDFListProxy.__len__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__len__">[docs]</a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">)</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.index"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.index">[docs]</a>    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">item</span><span class="p">))</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__getitem__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__getitem__">[docs]</a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">[</span><span class="n">key</span><span class="p">]</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__setitem__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__setitem__">[docs]</a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__delitem__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__delitem__">[docs]</a>    <span class="k">def</span> <span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">[</span><span class="n">key</span><span class="p">]</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.clear"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__iter__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__iter__">[docs]</a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">item</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__contains__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__contains__">[docs]</a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.append"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="OWLRDFListProxy.__iadd__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.OWLRDFListProxy.__iadd__">[docs]</a>    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span></div></div>


<div class="viewcode-block" id="EnumeratedClass"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.EnumeratedClass">[docs]</a><span class="k">class</span> <span class="nc">EnumeratedClass</span><span class="p">(</span><span class="n">OWLRDFListProxy</span><span class="p">,</span> <span class="n">Class</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class for owl:oneOf forms:</span>

<span class="sd">    OWL Abstract Syntax is used</span>

<span class="sd">    axiom ::= &#39;EnumeratedClass(&#39;</span>
<span class="sd">        classID [&#39;Deprecated&#39;] { annotation } { individualID } &#39;)&#39;</span>


<span class="sd">    &gt;&gt;&gt; exNs = Namespace(&#39;http://example.com/&#39;)</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, exNs, override=False)</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager.bind(&#39;owl&#39;, OWL, override=False)</span>
<span class="sd">    &gt;&gt;&gt; g = Graph()</span>
<span class="sd">    &gt;&gt;&gt; g.namespace_manager = namespace_manager</span>
<span class="sd">    &gt;&gt;&gt; Individual.factoryGraph = g</span>
<span class="sd">    &gt;&gt;&gt; ogbujiBros = EnumeratedClass(exNs.ogbujicBros,</span>
<span class="sd">    ...                              members=[exNs.chime,</span>
<span class="sd">    ...                                       exNs.uche,</span>
<span class="sd">    ...                                       exNs.ejike])</span>
<span class="sd">    &gt;&gt;&gt; ogbujiBros #doctest: +SKIP</span>
<span class="sd">    { ex:chime ex:uche ex:ejike }</span>
<span class="sd">    &gt;&gt;&gt; col = Collection(g, first(</span>
<span class="sd">    ...    g.objects(predicate=OWL.oneOf, subject=ogbujiBros.identifier)))</span>
<span class="sd">    &gt;&gt;&gt; sorted([g.qname(item) for item in col])</span>
<span class="sd">    [&#39;ex:chime&#39;, &#39;ex:ejike&#39;, &#39;ex:uche&#39;]</span>
<span class="sd">    &gt;&gt;&gt; print(g.serialize(format=&#39;n3&#39;)) #doctest: +SKIP</span>
<span class="sd">    @prefix ex: &lt;http://example.com/&gt; .</span>
<span class="sd">    @prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .</span>
<span class="sd">    @prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</span>
<span class="sd">    &lt;BLANKLINE&gt;</span>
<span class="sd">    ex:ogbujicBros a owl:Class;</span>
<span class="sd">        owl:oneOf ( ex:chime ex:uche ex:ejike ) .</span>
<span class="sd">    &lt;BLANKLINE&gt;</span>
<span class="sd">    &lt;BLANKLINE&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_operator</span> <span class="o">=</span> <span class="n">OWL</span><span class="o">.</span><span class="n">oneOf</span>

<div class="viewcode-block" id="EnumeratedClass.isPrimitive"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.EnumeratedClass.isPrimitive">[docs]</a>    <span class="k">def</span> <span class="nf">isPrimitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="EnumeratedClass.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.EnumeratedClass.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">members</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">Class</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">)</span>
        <span class="n">members</span> <span class="o">=</span> <span class="n">members</span> <span class="ow">and</span> <span class="n">members</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="n">rdfList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">oneOf</span><span class="p">,</span> <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span>
        <span class="n">OWLRDFListProxy</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rdfList</span><span class="p">,</span> <span class="n">members</span><span class="p">)</span></div>

<div class="viewcode-block" id="EnumeratedClass.__repr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.EnumeratedClass.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Manchester Syntax equivalent for this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">)</span></div>

<div class="viewcode-block" id="EnumeratedClass.serialize"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.EnumeratedClass.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="n">clonedList</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">BNode</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">:</span>
            <span class="n">clonedList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>

        <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="n">clonedList</span><span class="o">.</span><span class="n">uri</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">:</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span></div></div>


<span class="n">BooleanPredicates</span> <span class="o">=</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">BooleanClassExtentHelper</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt;&gt;&gt; testGraph = Graph()</span>
<span class="sd">    &gt;&gt;&gt; Individual.factoryGraph = testGraph</span>
<span class="sd">    &gt;&gt;&gt; EX = Namespace(&quot;http://example.com/&quot;)</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="sd">    &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, EX, override=False)</span>
<span class="sd">    &gt;&gt;&gt; testGraph.namespace_manager = namespace_manager</span>
<span class="sd">    &gt;&gt;&gt; fire = Class(EX.Fire)</span>
<span class="sd">    &gt;&gt;&gt; water = Class(EX.Water)</span>
<span class="sd">    &gt;&gt;&gt; testClass = BooleanClass(members=[fire, water])</span>
<span class="sd">    &gt;&gt;&gt; testClass2 = BooleanClass(</span>
<span class="sd">    ...     operator=OWL.unionOf, members=[fire, water])</span>
<span class="sd">    &gt;&gt;&gt; for c in BooleanClass.getIntersections():</span>
<span class="sd">    ...     print(c) #doctest: +SKIP</span>
<span class="sd">    ( ex:Fire AND ex:Water )</span>
<span class="sd">    &gt;&gt;&gt; for c in BooleanClass.getUnions():</span>
<span class="sd">    ...     print(c) #doctest: +SKIP</span>
<span class="sd">    ( ex:Fire OR ex:Water )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operator</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">operator</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_getExtent</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">Individual</span><span class="o">.</span><span class="n">factoryGraph</span><span class="o">.</span><span class="n">subjects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">BooleanClass</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">operator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">_getExtent</span>


<div class="viewcode-block" id="Callable"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Callable">[docs]</a><span class="k">class</span> <span class="nc">Callable</span><span class="p">:</span>
<div class="viewcode-block" id="Callable.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Callable.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anycallable</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span> <span class="o">=</span> <span class="n">anycallable</span></div></div>


<div class="viewcode-block" id="BooleanClass"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass">[docs]</a><span class="k">class</span> <span class="nc">BooleanClass</span><span class="p">(</span><span class="n">OWLRDFListProxy</span><span class="p">,</span> <span class="n">Class</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    See: http://www.w3.org/TR/owl-ref/#Boolean</span>

<span class="sd">    owl:complementOf is an attribute of Class, however</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BooleanClass.getIntersections"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.getIntersections">[docs]</a>    <span class="nd">@BooleanClassExtentHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">)</span>
    <span class="nd">@Callable</span>
    <span class="k">def</span> <span class="nf">getIntersections</span><span class="p">():</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="k">pass</span></div>

    <span class="n">getIntersections</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">(</span><span class="n">getIntersections</span><span class="p">)</span>

<div class="viewcode-block" id="BooleanClass.getUnions"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.getUnions">[docs]</a>    <span class="nd">@BooleanClassExtentHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">)</span>
    <span class="nd">@Callable</span>
    <span class="k">def</span> <span class="nf">getUnions</span><span class="p">():</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="k">pass</span></div>

    <span class="n">getUnions</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">(</span><span class="n">getUnions</span><span class="p">)</span>

<div class="viewcode-block" id="BooleanClass.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">operator</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">members</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">operator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">props</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
                <span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">props</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="n">operator</span> <span class="o">=</span> <span class="n">p</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">props</span><span class="p">)</span>
        <span class="n">Class</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">operator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span> <span class="o">=</span> <span class="n">operator</span>
        <span class="n">rdfList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">operator</span><span class="p">,</span> <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">members</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">rdfList</span>
        <span class="p">),</span> <span class="s2">&quot;This is a previous boolean class description!&quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span>
            <span class="n">Collection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">rdfList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">n3</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">OWLRDFListProxy</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rdfList</span><span class="p">,</span> <span class="n">members</span><span class="p">)</span></div>

<div class="viewcode-block" id="BooleanClass.copy"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a copy of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">copyOfClass</span> <span class="o">=</span> <span class="n">BooleanClass</span><span class="p">(</span>
            <span class="n">operator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="n">members</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">copyOfClass</span></div>

<div class="viewcode-block" id="BooleanClass.serialize"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="n">clonedList</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">BNode</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="p">:</span>
            <span class="n">clonedList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>

        <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="n">clonedList</span><span class="o">.</span><span class="n">uri</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">:</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span></div>

<div class="viewcode-block" id="BooleanClass.isPrimitive"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.isPrimitive">[docs]</a>    <span class="k">def</span> <span class="nf">isPrimitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="BooleanClass.changeOperator"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.changeOperator">[docs]</a>    <span class="k">def</span> <span class="nf">changeOperator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newOperator</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a unionOf / intersectionOf class expression into one</span>
<span class="sd">        that instead uses the given operator</span>


<span class="sd">        &gt;&gt;&gt; testGraph = Graph()</span>
<span class="sd">        &gt;&gt;&gt; Individual.factoryGraph = testGraph</span>
<span class="sd">        &gt;&gt;&gt; EX = Namespace(&quot;http://example.com/&quot;)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager = NamespaceManager(Graph())</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, EX, override=False)</span>
<span class="sd">        &gt;&gt;&gt; testGraph.namespace_manager = namespace_manager</span>
<span class="sd">        &gt;&gt;&gt; fire = Class(EX.Fire)</span>
<span class="sd">        &gt;&gt;&gt; water = Class(EX.Water)</span>
<span class="sd">        &gt;&gt;&gt; testClass = BooleanClass(members=[fire,water])</span>
<span class="sd">        &gt;&gt;&gt; testClass #doctest: +SKIP</span>
<span class="sd">        ( ex:Fire AND ex:Water )</span>
<span class="sd">        &gt;&gt;&gt; testClass.changeOperator(OWL.unionOf)</span>
<span class="sd">        &gt;&gt;&gt; testClass #doctest: +SKIP</span>
<span class="sd">        ( ex:Fire OR ex:Water )</span>
<span class="sd">        &gt;&gt;&gt; try: testClass.changeOperator(OWL.unionOf)</span>
<span class="sd">        ... except Exception as e: print(e)</span>
<span class="sd">        The new operator is already being used!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">newOperator</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="s2">&quot;The new operator is already being used!&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">uri</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">newOperator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">uri</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span> <span class="o">=</span> <span class="n">newOperator</span></div>

<div class="viewcode-block" id="BooleanClass.__repr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Manchester Syntax equivalent for this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_operator</span><span class="p">)</span></div>

<div class="viewcode-block" id="BooleanClass.__or__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.BooleanClass.__or__">[docs]</a>    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds other to the list and returns self</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operator</span> <span class="o">==</span> <span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rdfList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span></div></div>


<div class="viewcode-block" id="AllDifferent"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.AllDifferent">[docs]</a><span class="k">def</span> <span class="nf">AllDifferent</span><span class="p">(</span><span class="n">members</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    DisjointClasses(&#39; description description { description } &#39;)&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="Restriction"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction">[docs]</a><span class="k">class</span> <span class="nc">Restriction</span><span class="p">(</span><span class="n">Class</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    restriction ::= &#39;restriction(&#39;</span>
<span class="sd">    datavaluedPropertyID dataRestrictionComponent</span>
<span class="sd">    { dataRestrictionComponent } &#39;)&#39;</span>
<span class="sd">    | &#39;restriction(&#39; individualvaluedPropertyID</span>
<span class="sd">    individualRestrictionComponent</span>
<span class="sd">    { individualRestrictionComponent } &#39;)&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">restrictionKinds</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">maxCardinality</span><span class="p">,</span>
        <span class="n">OWL</span><span class="o">.</span><span class="n">minCardinality</span><span class="p">,</span>
    <span class="p">]</span>

<div class="viewcode-block" id="Restriction.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">onProperty</span><span class="p">,</span>
        <span class="n">graph</span><span class="o">=</span><span class="n">Graph</span><span class="p">(),</span>
        <span class="n">allValuesFrom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">someValuesFrom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cardinality</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">maxCardinality</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">minCardinality</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Restriction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span> <span class="n">skipOWLClassMembership</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span>
            <span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">,</span>
            <span class="n">propertyOrIdentifier</span><span class="p">(</span><span class="n">onProperty</span><span class="p">),</span>
        <span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">,</span> <span class="n">propertyOrIdentifier</span><span class="p">(</span><span class="n">onProperty</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onProperty</span> <span class="o">=</span> <span class="n">onProperty</span>
        <span class="n">restrTypes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">allValuesFrom</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">),</span>
            <span class="p">(</span><span class="n">someValuesFrom</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">),</span>
            <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">),</span>
            <span class="p">(</span><span class="n">cardinality</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">cardinality</span><span class="p">),</span>
            <span class="p">(</span><span class="n">maxCardinality</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">maxCardinality</span><span class="p">),</span>
            <span class="p">(</span><span class="n">minCardinality</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">minCardinality</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="n">validRestrProps</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">oTerm</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">oTerm</span><span class="p">)</span> <span class="ow">in</span> <span class="n">restrTypes</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">validRestrProps</span><span class="p">)</span>
        <span class="n">restrictionRange</span><span class="p">,</span> <span class="n">restrictionType</span> <span class="o">=</span> <span class="n">validRestrProps</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">restrictionType</span> <span class="o">=</span> <span class="n">restrictionType</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">restrictionRange</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span> <span class="o">=</span> <span class="n">restrictionRange</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">restrictionRange</span><span class="p">,</span> <span class="n">Class</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span> <span class="o">=</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">restrictionRange</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">restrictionType</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">restrictionType</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">restrictionType</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span><span class="p">))</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Restriction</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">Class</span><span class="p">))</span></div>

<div class="viewcode-block" id="Restriction.serialize"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; g1 = Graph()</span>
<span class="sd">        &gt;&gt;&gt; g2 = Graph()</span>
<span class="sd">        &gt;&gt;&gt; EX = Namespace(&quot;http://example.com/&quot;)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager = NamespaceManager(g1)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, EX, override=False)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager = NamespaceManager(g2)</span>
<span class="sd">        &gt;&gt;&gt; namespace_manager.bind(&#39;ex&#39;, EX, override=False)</span>
<span class="sd">        &gt;&gt;&gt; Individual.factoryGraph = g1</span>
<span class="sd">        &gt;&gt;&gt; prop = Property(EX.someProp, baseType=OWL.DatatypeProperty)</span>
<span class="sd">        &gt;&gt;&gt; restr1 = (Property(</span>
<span class="sd">        ...    EX.someProp,</span>
<span class="sd">        ...    baseType=OWL.DatatypeProperty)) &lt;&lt; some &gt;&gt; (Class(EX.Foo))</span>
<span class="sd">        &gt;&gt;&gt; restr1 #doctest: +SKIP</span>
<span class="sd">        ( ex:someProp SOME ex:Foo )</span>
<span class="sd">        &gt;&gt;&gt; restr1.serialize(g2)</span>
<span class="sd">        &gt;&gt;&gt; Individual.factoryGraph = g2</span>
<span class="sd">        &gt;&gt;&gt; list(Property(</span>
<span class="sd">        ...     EX.someProp,baseType=None).type</span>
<span class="sd">        ... ) #doctest: +NORMALIZE_WHITESPACE +SKIP</span>
<span class="sd">        [rdflib.term.URIRef(</span>
<span class="sd">            u&#39;http://www.w3.org/2002/07/owl#DatatypeProperty&#39;)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onProperty</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">]:</span>
                <span class="n">CastClass</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span></div>

<div class="viewcode-block" id="Restriction.isPrimitive"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.isPrimitive">[docs]</a>    <span class="k">def</span> <span class="nf">isPrimitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Restriction.__hash__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.__hash__">[docs]</a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">onProperty</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span><span class="p">))</span></div>

<div class="viewcode-block" id="Restriction.__eq__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.__eq__">[docs]</a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Equivalence of restrictions is determined by equivalence of the</span>
<span class="sd">        property in question and the restriction &#39;range&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Class</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Restriction</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">other</span><span class="o">.</span><span class="n">onProperty</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">onProperty</span>
                <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">restrictionRange</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">restrictionRange</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

    <span class="k">def</span> <span class="nf">_get_onProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">)</span>
        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_set_onProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">,</span> <span class="n">propertyOrIdentifier</span><span class="p">(</span><span class="n">prop</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">prop</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">onProperty</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_onProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">onProperty</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_onProperty</span><span class="p">,</span> <span class="n">_set_onProperty</span><span class="p">,</span> <span class="n">_del_onProperty</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_allValuesFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_allValuesFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">allValuesFrom</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_allValuesFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">allValuesFrom</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_allValuesFrom</span><span class="p">,</span> <span class="n">_set_allValuesFrom</span><span class="p">,</span> <span class="n">_del_allValuesFrom</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_someValuesFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_someValuesFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">someValuesFrom</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_someValuesFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">someValuesFrom</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_someValuesFrom</span><span class="p">,</span> <span class="n">_set_someValuesFrom</span><span class="p">,</span> <span class="n">_del_someValuesFrom</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_hasValue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_hasValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">hasValue</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_hasValue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">hasValue</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_hasValue</span><span class="p">,</span> <span class="n">_set_hasValue</span><span class="p">,</span> <span class="n">_del_hasValue</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_cardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">cardinality</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_cardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">cardinality</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">cardinality</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_cardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">cardinality</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_cardinality</span><span class="p">,</span> <span class="n">_set_cardinality</span><span class="p">,</span> <span class="n">_del_cardinality</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_maxCardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">maxCardinality</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_maxCardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">maxCardinality</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">maxCardinality</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_maxCardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">maxCardinality</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_maxCardinality</span><span class="p">,</span> <span class="n">_set_maxCardinality</span><span class="p">,</span> <span class="n">_del_maxCardinality</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_minCardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">minCardinality</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">Class</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_minCardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">triple</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">minCardinality</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">triple</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">triple</span><span class="p">)</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">minCardinality</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_minCardinality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">minCardinality</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_minCardinality</span><span class="p">,</span> <span class="n">_set_minCardinality</span><span class="p">,</span> <span class="n">_del_minCardinality</span>
    <span class="p">)</span>

<div class="viewcode-block" id="Restriction.restrictionKind"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.restrictionKind">[docs]</a>    <span class="k">def</span> <span class="nf">restrictionKind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triple_choices</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">restrictionKinds</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">OWL</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">raise</span></div>

<div class="viewcode-block" id="Restriction.__repr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Restriction.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Manchester Syntax equivalent for this restriction</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manchesterSyntax</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span></div></div>


<span class="c1"># Infix Operators #</span>


<span class="n">some</span> <span class="o">=</span> <span class="n">Infix</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">prop</span><span class="p">,</span> <span class="n">_class</span><span class="p">:</span> <span class="n">Restriction</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">_class</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">someValuesFrom</span><span class="o">=</span><span class="n">_class</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">only</span> <span class="o">=</span> <span class="n">Infix</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">prop</span><span class="p">,</span> <span class="n">_class</span><span class="p">:</span> <span class="n">Restriction</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">_class</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">allValuesFrom</span><span class="o">=</span><span class="n">_class</span><span class="p">)</span>
<span class="p">)</span>
<span class="nb">max</span> <span class="o">=</span> <span class="n">Infix</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">prop</span><span class="p">,</span> <span class="n">_class</span><span class="p">:</span> <span class="n">Restriction</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">prop</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">maxCardinality</span><span class="o">=</span><span class="n">_class</span><span class="p">)</span>
<span class="p">)</span>
<span class="nb">min</span> <span class="o">=</span> <span class="n">Infix</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">prop</span><span class="p">,</span> <span class="n">_class</span><span class="p">:</span> <span class="n">Restriction</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">prop</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">minCardinality</span><span class="o">=</span><span class="n">_class</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">exactly</span> <span class="o">=</span> <span class="n">Infix</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">prop</span><span class="p">,</span> <span class="n">_class</span><span class="p">:</span> <span class="n">Restriction</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">prop</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">cardinality</span><span class="o">=</span><span class="n">_class</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">Infix</span><span class="p">(</span><span class="k">lambda</span> <span class="n">prop</span><span class="p">,</span> <span class="n">_class</span><span class="p">:</span> <span class="n">Restriction</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="n">prop</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">_class</span><span class="p">))</span>

<span class="n">PropertyAbstractSyntax</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="si">%s</span><span class="s2">( </span><span class="si">%s</span><span class="s2"> { </span><span class="si">%s</span><span class="s2"> }</span>
<span class="si">%s</span><span class="s2"></span>
<span class="s2">{ &#39;super(&#39; datavaluedPropertyID &#39;)&#39;} [&#39;Functional&#39;]</span>
<span class="s2">{ domain( </span><span class="si">%s</span><span class="s2"> ) } { range( </span><span class="si">%s</span><span class="s2"> ) } )&quot;&quot;&quot;</span>


<div class="viewcode-block" id="Property"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Property">[docs]</a><span class="k">class</span> <span class="nc">Property</span><span class="p">(</span><span class="n">AnnotatableTerms</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    axiom ::= &#39;DatatypeProperty(&#39; datavaluedPropertyID [&#39;Deprecated&#39;]</span>
<span class="sd">                { annotation }</span>
<span class="sd">                { &#39;super(&#39; datavaluedPropertyID &#39;)&#39;} [&#39;Functional&#39;]</span>
<span class="sd">                { &#39;domain(&#39; description &#39;)&#39; } { &#39;range(&#39; dataRange &#39;)&#39; } &#39;)&#39;</span>
<span class="sd">                | &#39;ObjectProperty(&#39; individualvaluedPropertyID [&#39;Deprecated&#39;]</span>
<span class="sd">                { annotation }</span>
<span class="sd">                { &#39;super(&#39; individualvaluedPropertyID &#39;)&#39; }</span>
<span class="sd">                [ &#39;inverseOf(&#39; individualvaluedPropertyID &#39;)&#39; ] [ &#39;Symmetric&#39; ]</span>
<span class="sd">                [ &#39;Functional&#39; | &#39;InverseFunctional&#39; |</span>
<span class="sd">                &#39;Functional&#39; &#39;InverseFunctional&#39; |</span>
<span class="sd">                &#39;Transitive&#39; ]</span>
<span class="sd">                { &#39;domain(&#39; description &#39;)&#39; } { &#39;range(&#39; description &#39;)&#39; } &#39;)</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Property.setupVerbAnnotations"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Property.setupVerbAnnotations">[docs]</a>    <span class="k">def</span> <span class="nf">setupVerbAnnotations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbAnnotations</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verbAnnotations</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">TV_sgProp</span><span class="p">,</span> <span class="n">TV_plProp</span><span class="p">,</span> <span class="n">TV_vbg</span> <span class="o">=</span> <span class="n">verbAnnotations</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">TV_sgProp</span> <span class="o">=</span> <span class="n">verbAnnotations</span>
            <span class="n">TV_plProp</span> <span class="o">=</span> <span class="n">verbAnnotations</span>
            <span class="n">TV_vbg</span> <span class="o">=</span> <span class="n">verbAnnotations</span>
        <span class="k">if</span> <span class="n">TV_sgProp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">TV_sgProp</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handleAnnotation</span><span class="p">(</span><span class="n">TV_sgProp</span><span class="p">))</span>
            <span class="p">]</span>
        <span class="k">if</span> <span class="n">TV_plProp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">TV_plProp</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handleAnnotation</span><span class="p">(</span><span class="n">TV_plProp</span><span class="p">))</span>
            <span class="p">]</span>
        <span class="k">if</span> <span class="n">TV_vbg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">TV_vbgProp</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handleAnnotation</span><span class="p">(</span><span class="n">TV_vbg</span><span class="p">))]</span></div>

<div class="viewcode-block" id="Property.__init__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Property.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">baseType</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">ObjectProperty</span><span class="p">,</span>
        <span class="n">subPropertyOf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">domain</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="nb">range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">inverseOf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">otherType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">equivalentProperty</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">verbAnnotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">nameAnnotation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">nameIsLabel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Property</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">nameAnnotation</span><span class="p">,</span> <span class="n">nameIsLabel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verbAnnotations</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setupVerbAnnotations</span><span class="p">(</span><span class="n">verbAnnotations</span><span class="p">)</span>

        <span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">BNode</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">baseType</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># None give, determine via introspection</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_baseType</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">Individual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">baseType</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">baseType</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_baseType</span> <span class="o">=</span> <span class="n">baseType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subPropertyOf</span> <span class="o">=</span> <span class="n">subPropertyOf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inverseOf</span> <span class="o">=</span> <span class="n">inverseOf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="n">domain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="nb">range</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span> <span class="ow">and</span> <span class="n">comment</span> <span class="ow">or</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Property.serialize"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Property.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fact</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subPropertyOf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">):</span>
            <span class="n">p</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">domain</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">):</span>
            <span class="n">CastClass</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">triple</span> <span class="ow">in</span> <span class="p">(</span><span class="n">graph</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="ow">or</span> <span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">triples</span><span class="p">(</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">triple</span>

    <span class="k">def</span> <span class="nf">_set_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">subj</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">subj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">obj</span><span class="p">))</span>

    <span class="n">extent</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_extent</span><span class="p">,</span> <span class="n">_set_extent</span><span class="p">)</span>

<div class="viewcode-block" id="Property.__repr__"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Property.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">rt</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">OWL</span><span class="o">.</span><span class="n">ObjectProperty</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
            <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;ObjectProperty( </span><span class="si">%s</span><span class="s2"> annotation(</span><span class="si">%s</span><span class="s2">)&quot;</span>
                <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qname</span><span class="p">,</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">)</span> <span class="ow">and</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">):</span>
                <span class="n">twoLinkInverse</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">)</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">twoLinkInverse</span> <span class="ow">and</span> <span class="n">twoLinkInverse</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">:</span>
                    <span class="n">inverseRepr</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">)</span><span class="o">.</span><span class="n">qname</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">inverseRepr</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">))</span>
                <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="s2">&quot;  inverseOf( </span><span class="si">%s</span><span class="s2"> )</span><span class="si">%s</span><span class="s2">&quot;</span>
                    <span class="o">%</span> <span class="p">(</span>
                        <span class="n">inverseRepr</span><span class="p">,</span>
                        <span class="n">OWL</span><span class="o">.</span><span class="n">SymmetricProperty</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">and</span> <span class="s2">&quot; Symmetric&quot;</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">roleType</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span>
                    <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="p">[</span>
                        <span class="n">OWL</span><span class="o">.</span><span class="n">FunctionalProperty</span><span class="p">,</span>
                        <span class="n">OWL</span><span class="o">.</span><span class="n">InverseFunctionalProperty</span><span class="p">,</span>
                        <span class="n">OWL</span><span class="o">.</span><span class="n">TransitiveProperty</span><span class="p">,</span>
                    <span class="p">],</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">roleType</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">OWL</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;DatatypeProperty( </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span>
                <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qname</span><span class="p">,</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">)</span> <span class="ow">and</span> <span class="n">first</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">roleType</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">triples</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDF</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">FunctionalProperty</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;   Functional&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">canonicalName</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">g</span><span class="p">):</span>
            <span class="n">normalizedName</span> <span class="o">=</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">normalizedName</span><span class="p">,</span> <span class="n">BNode</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">term</span>
            <span class="k">elif</span> <span class="n">normalizedName</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">XSD</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">first</span><span class="p">(</span>
                <span class="n">g</span><span class="o">.</span><span class="n">triples_choices</span><span class="p">(</span>
                    <span class="p">(</span><span class="n">normalizedName</span><span class="p">,</span> <span class="p">[</span><span class="n">OWL</span><span class="o">.</span><span class="n">unionOf</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">intersectionOf</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">term</span><span class="o">.</span><span class="n">qname</span><span class="p">)</span>

        <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="s2">&quot;   super( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="n">canonicalName</span><span class="p">(</span><span class="n">superP</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">superP</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subPropertyOf</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="s2">&quot;   domain( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="n">canonicalName</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">domain</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">domain</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">rt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="s2">&quot;   range( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="n">canonicalName</span><span class="p">(</span><span class="nb">range</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
                    <span class="k">for</span> <span class="nb">range</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">rt</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">expr</span> <span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">rt</span> <span class="k">if</span> <span class="n">expr</span><span class="p">])</span>
        <span class="n">rt</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">)&quot;</span>
        <span class="k">return</span> <span class="n">rt</span></div>

    <span class="k">def</span> <span class="nf">_get_subPropertyOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">anc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span>
            <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">subPropertyOf</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">Property</span><span class="p">(</span><span class="n">anc</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_subPropertyOf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">sP</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">subPropertyOf</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">sP</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">subPropertyOf</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_subPropertyOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">subPropertyOf</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_subPropertyOf</span><span class="p">,</span> <span class="n">_set_subPropertyOf</span><span class="p">,</span> <span class="n">_del_subPropertyOf</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_inverseOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">anc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">OWL</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">Property</span><span class="p">(</span><span class="n">anc</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">baseType</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_inverseOf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">OWL</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">OWL</span><span class="o">.</span><span class="n">inverseOf</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_inverseOf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">inverseOf</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_inverseOf</span><span class="p">,</span> <span class="n">_set_inverseOf</span><span class="p">,</span> <span class="n">_del_inverseOf</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">dom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">domain</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">other</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="n">Individual</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">domain</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">dom</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">domain</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">dom</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">domain</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">domain</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_domain</span><span class="p">,</span> <span class="n">_set_domain</span><span class="p">,</span> <span class="n">_del_domain</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ran</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">RDFS</span><span class="o">.</span><span class="n">range</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">Class</span><span class="p">(</span><span class="n">ran</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ranges</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ranges</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ranges</span><span class="p">,</span> <span class="p">(</span><span class="n">Individual</span><span class="p">,</span> <span class="n">Identifier</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">range</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="n">ranges</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="nb">range</span> <span class="ow">in</span> <span class="n">ranges</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">RDFS</span><span class="o">.</span><span class="n">range</span><span class="p">,</span> <span class="n">classOrIdentifier</span><span class="p">(</span><span class="nb">range</span><span class="p">)))</span>

    <span class="nd">@TermDeletionHelper</span><span class="p">(</span><span class="n">RDFS</span><span class="o">.</span><span class="n">range</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_del_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nb">range</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_range</span><span class="p">,</span> <span class="n">_set_range</span><span class="p">,</span> <span class="n">_del_range</span><span class="p">)</span>

<div class="viewcode-block" id="Property.replace"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.Property.replace">[docs]</a>    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># extension = []</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">propertyOrIdentifier</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">o</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">remove</span><span class="p">((</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="CommonNSBindings"><a class="viewcode-back" href="../../../apidocs/rdflib.extras.html#rdflib.extras.infixowl.CommonNSBindings">[docs]</a><span class="k">def</span> <span class="nf">CommonNSBindings</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">additionalNS</span><span class="o">=</span><span class="p">{}):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a graph and binds the common namespaces (rdf,rdfs, &amp; owl)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">namespace_manager</span> <span class="o">=</span> <span class="n">NamespaceManager</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
    <span class="n">namespace_manager</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;rdfs&quot;</span><span class="p">,</span> <span class="n">RDFS</span><span class="p">)</span>
    <span class="n">namespace_manager</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;rdf&quot;</span><span class="p">,</span> <span class="n">RDF</span><span class="p">)</span>
    <span class="n">namespace_manager</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;owl&quot;</span><span class="p">,</span> <span class="n">OWL</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">additionalNS</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">namespace_manager</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">namespace_manager</span> <span class="o">=</span> <span class="n">namespace_manager</span></div>


<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">doctest</span>

    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">test</span><span class="p">()</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/RDFlib.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">rdflib 6.2.0-alpha documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">rdflib.extras.infixowl</a></li> 
      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2009 - 2021, RDFLib Team.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.3.2.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>





  </body>
</html>